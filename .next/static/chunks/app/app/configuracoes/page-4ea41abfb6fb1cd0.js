(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{62898:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,...u},m)=>(0,r.createElement)("svg",{ref:m,...a,width:n,height:n,stroke:t,strokeWidth:o?24*Number(i)/Number(n):i,className:["lucide",`lucide-${l(e)}`,c].join(" "),...u},[...s.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},72894:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},92457:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},28203:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6141:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},41298:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},38438:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1295:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},96142:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},70290:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},4322:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},49617:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},12741:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},91981:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},41827:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},93505:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},23223:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])},45367:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85790:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},67972:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},25750:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},59750:function(e,s,t){Promise.resolve().then(t.bind(t,26708)),Promise.resolve().then(t.bind(t,41643)),Promise.resolve().then(t.bind(t,86237)),Promise.resolve().then(t.bind(t,36068)),Promise.resolve().then(t.bind(t,20929)),Promise.resolve().then(t.bind(t,50051)),Promise.resolve().then(t.bind(t,96781)),Promise.resolve().then(t.bind(t,28911)),Promise.resolve().then(t.bind(t,93233)),Promise.resolve().then(t.bind(t,84106)),Promise.resolve().then(t.bind(t,93544))},26708:function(e,s,t){"use strict";t.r(s),t.d(s,{ReportsPanel:function(){return m}});var r=t(57437),a=t(2265);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(62898).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var n=t(41298),i=t(93505),o=t(25750),c=t(92457),d=t(85790),u=t(58222);function m(){let[e,s]=(0,a.useState)({totalRevenue:0,totalOrders:0,totalCustomers:0,averageOrderValue:0,topProducts:[],topCustomers:[],revenueByDay:[],revenueByCategory:[]}),[t,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)("30d"),[f,b]=(0,a.useState)("overview");(0,a.useEffect)(()=>{v()},[p]);let v=async()=>{try{m(!0);let[e,t,r,a]=await Promise.all([(0,u.AU)(),(0,u.OL)(),(0,u.Xp)(),(0,u._P)()]),l=Array.isArray(e)?e:[],n=Array.isArray(t)?t:[],i=Array.isArray(r)?r:r.products||[],o=Array.isArray(a)?a:[],c=new Date,d=new Date;switch(p){case"7d":d.setDate(c.getDate()-7);break;case"30d":default:d.setDate(c.getDate()-30);break;case"90d":d.setDate(c.getDate()-90);break;case"1y":d.setFullYear(c.getFullYear()-1)}let x=l.filter(e=>new Date(e.createdAt)>=d),h=o.filter(e=>"COMPLETED"===e.status&&new Date(e.createdAt)>=d).reduce((e,s)=>e+s.amount,0),g=x.length,f=n.length,b=i.slice(0,5).map(e=>({product:e,quantity:Math.floor(100*Math.random())+10,revenue:Math.floor(1e3*Math.random())+100})),v=n.slice(0,5).map(e=>({customer:e,orders:Math.floor(20*Math.random())+1,totalSpent:Math.floor(500*Math.random())+50})),y=[];for(let e=0;e<7;e++){let s=new Date;s.setDate(s.getDate()-e),y.unshift({date:s.toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit"}),revenue:Math.floor(500*Math.random())+100,orders:Math.floor(20*Math.random())+5})}let j=["Petiscos","Bebidas","Sobremesas","Entradas"].map(e=>({category:e,revenue:Math.floor(1e3*Math.random())+200,percentage:0})),N=j.reduce((e,s)=>e+s.revenue,0);j.forEach(e=>{e.percentage=N>0?e.revenue/N*100:0}),s({totalRevenue:h,totalOrders:g,totalCustomers:f,averageOrderValue:g>0?h/g:0,topProducts:b,topCustomers:v,revenueByDay:y,revenueByCategory:j})}catch(e){h("Erro ao carregar dados dos relat\xf3rios"),console.error("Erro ao buscar dados:",e)}finally{m(!1)}},y=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return t?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Relat\xf3rios e An\xe1lises"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"7d",children:"\xdaltimos 7 dias"}),(0,r.jsx)("option",{value:"30d",children:"\xdaltimos 30 dias"}),(0,r.jsx)("option",{value:"90d",children:"\xdaltimos 90 dias"}),(0,r.jsx)("option",{value:"1y",children:"\xdaltimo ano"})]}),(0,r.jsxs)("button",{onClick:()=>{let s="\n      RELAT\xd3RIO DE VENDAS - ".concat(new Date().toLocaleDateString("pt-BR"),"\n      \n      RESUMO EXECUTIVO:\n      - Receita Total: ").concat(y(e.totalRevenue),"\n      - Total de Pedidos: ").concat(e.totalOrders,"\n      - Clientes Ativos: ").concat(e.totalCustomers,"\n      - Ticket M\xe9dio: ").concat(y(e.averageOrderValue),"\n      \n      PRODUTOS MAIS VENDIDOS:\n      ").concat(e.topProducts.map((e,s)=>"".concat(s+1,". ").concat(e.product.name," - ").concat(e.quantity," unidades - ").concat(y(e.revenue))).join("\n"),"\n      \n      CLIENTES TOP:\n      ").concat(e.topCustomers.map((e,s)=>"".concat(s+1,". ").concat(e.customer.name," - ").concat(e.orders," pedidos - ").concat(y(e.totalSpent))).join("\n"),"\n    "),t=new Blob([s],{type:"text/plain"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="relatorio-vendas-".concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l,{className:"h-4 w-4 mr-2"}),"Gerar Relat\xf3rio"]})]})]}),x&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:x})]})})}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>b("overview"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("overview"===f?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Vis\xe3o Geral"}),(0,r.jsx)("button",{onClick:()=>b("sales"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("sales"===f?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Vendas"}),(0,r.jsx)("button",{onClick:()=>b("customers"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("customers"===f?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Clientes"}),(0,r.jsx)("button",{onClick:()=>b("products"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("products"===f?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Produtos"})]}),"overview"===f&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)(n.Z,{className:"h-6 w-6 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Receita Total"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:y(e.totalRevenue)})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(i.Z,{className:"h-6 w-6 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalOrders})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,r.jsx)(o.Z,{className:"h-6 w-6 text-purple-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalCustomers})]})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,r.jsx)(c.Z,{className:"h-6 w-6 text-orange-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ticket M\xe9dio"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:y(e.averageOrderValue)})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receita por Dia"}),(0,r.jsx)("div",{className:"space-y-3",children:e.revenueByDay.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.date}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.orders," pedidos"]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:y(e.revenue)})]})]},s))})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receita por Categoria"}),(0,r.jsx)("div",{className:"space-y-3",children:e.revenueByCategory.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.category}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.percentage.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:y(e.revenue)})]})]},s))})]})]})]}),"sales"===f&&(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"An\xe1lise de Vendas"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700",children:"Per\xedodo Analisado"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"7d"===p?"\xdaltimos 7 dias":"30d"===p?"\xdaltimos 30 dias":"90d"===p?"\xdaltimos 90 dias":"\xdaltimo ano"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700",children:"Total de Vendas"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.totalOrders," pedidos"]})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tend\xeancia de Vendas"}),(0,r.jsx)("div",{className:"h-32 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.Z,{className:"h-8 w-8 text-blue-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Gr\xe1fico de tend\xeancia ser\xe1 implementado aqui"})]})})]})]})]})}),"customers"===f&&(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Clientes"}),(0,r.jsx)("div",{className:"space-y-3",children:e.topCustomers.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.customer.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.customer.email})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.orders," pedidos"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:y(e.totalSpent)})]})]},s))})]})}),"products"===f&&(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Produtos Mais Vendidos"}),(0,r.jsx)("div",{className:"space-y-3",children:e.topProducts.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.product.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.product.description})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.quantity," unidades"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:y(e.revenue)})]})]},s))})]})})]})}},41643:function(e,s,t){"use strict";t.r(s),t.d(s,{AreasManagement:function(){return d}});var r=t(57437),a=t(2265),l=t(91981),n=t(96142),i=t(49617),o=t(45367),c=t(58222);function d(){let[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!0),[f,b]=(0,a.useState)(null),[v,y]=(0,a.useState)({name:"",description:"",locationId:""});(0,a.useEffect)(()=>{j()},[]);let j=async()=>{try{g(!0);let[e,t]=await Promise.all([(0,c.ao)(),(0,c.JC)()]);s(e),d(t)}catch(e){b("Erro ao carregar dados"),console.error("Erro ao buscar dados:",e)}finally{g(!1)}},N=async e=>{if(e.preventDefault(),!v.name.trim()){b("Nome da \xe1rea \xe9 obrigat\xf3rio");return}if(!v.locationId){b("Localiza\xe7\xe3o \xe9 obrigat\xf3ria");return}try{x?await (0,c.wm)(x.id,v):await (0,c.ne)(v),await j(),k(),b(null)}catch(e){b("Erro ao salvar \xe1rea"),console.error("Erro ao salvar \xe1rea:",e)}},w=e=>{h(e),y({name:e.name,description:e.description||"",locationId:e.locationId}),m(!0)},C=async e=>{if(confirm("Tem certeza que deseja excluir esta \xe1rea?"))try{await (0,c.dn)(e),await j(),b(null)}catch(e){b("Erro ao excluir \xe1rea"),console.error("Erro ao excluir \xe1rea:",e)}},k=()=>{m(!1),h(null),y({name:"",description:"",locationId:""}),b(null)},E=e=>{let s=t.find(s=>s.id===e);return s?s.name:"Localiza\xe7\xe3o n\xe3o encontrada"};return p?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de \xc1reas"}),(0,r.jsxs)("button",{onClick:()=>{m(!0),h(null),y({name:"",description:"",locationId:""})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Nova \xc1rea"]})]}),f&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:f})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhuma \xe1rea cadastrada"}):e.map(e=>(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Localiza\xe7\xe3o: ",E(e.locationId)]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>w(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>C(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})]})]})},e.id))})}),u&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:x?"Editar \xc1rea":"Nova \xc1rea"}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da \xc1rea *"}),(0,r.jsx)("input",{type:"text",value:v.name,onChange:e=>y({...v,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Sal\xe3o Principal",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localiza\xe7\xe3o *"}),(0,r.jsxs)("select",{value:v.locationId,onChange:e=>y({...v,locationId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione uma localiza\xe7\xe3o"}),t.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{value:v.description,onChange:e=>y({...v,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descri\xe7\xe3o opcional da \xe1rea..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:x?"Atualizar":"Criar"})]})]})]})})})]})}},86237:function(e,s,t){"use strict";t.r(s),t.d(s,{CategoriesManagement:function(){return d}});var r=t(57437),a=t(2265),l=t(91981),n=t(38438),i=t(49617),o=t(45367),c=t(58222);function d(){let[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)({name:"",description:"",image:"",isActive:!0,order:0});(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{h(!0);let e=await (0,c.CP)();s(Array.isArray(e)?e:[])}catch(e){g("Erro ao carregar categorias"),console.error("Erro ao buscar categorias:",e)}finally{h(!1)}},y=async e=>{if(e.preventDefault(),!f.name.trim()){g("Nome da categoria \xe9 obrigat\xf3rio");return}try{u?await (0,c.yr)(u.id,f):await (0,c.k4)(f),await v(),w(),g(null)}catch(e){g("Erro ao salvar categoria"),console.error("Erro ao salvar categoria:",e)}},j=e=>{m(e),b({name:e.name,description:e.description||"",image:e.image||"",isActive:e.isActive,order:e.order||0}),d(!0)},N=async e=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{await (0,c.uu)(e),await v(),g(null)}catch(e){g("Erro ao excluir categoria"),console.error("Erro ao excluir categoria:",e)}},w=()=>{d(!1),m(null),b({name:"",description:"",image:"",isActive:!0,order:0}),g(null)},C=async e=>{try{await (0,c.yr)(e.id,{isActive:!e.isActive}),await v()}catch(e){g("Erro ao alterar status da categoria"),console.error("Erro ao alterar status:",e)}};return x?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Categorias"}),(0,r.jsxs)("button",{onClick:()=>{d(!0),m(null),b({name:"",description:"",image:"",isActive:!0,order:0})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),p&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:p})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhuma categoria cadastrada"}):e.map(e=>(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:e.image?(0,r.jsx)("img",{src:e.image,alt:e.name,className:"h-12 w-12 rounded-lg object-cover"}):(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"h-6 w-6 text-gray-400"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Ativa":"Inativa"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["Ordem: ",e.order]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>C(e),className:"px-3 py-1 text-xs font-medium rounded-md ".concat(e.isActive?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"),children:e.isActive?"Desativar":"Ativar"}),(0,r.jsx)("button",{onClick:()=>j(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>N(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})]})]})},e.id))})}),t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:u?"Editar Categoria":"Nova Categoria"}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria *"}),(0,r.jsx)("input",{type:"text",value:f.name,onChange:e=>b({...f,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Bebidas",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{value:f.description,onChange:e=>b({...f,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descri\xe7\xe3o opcional da categoria..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Imagem"}),(0,r.jsx)("input",{type:"url",value:f.image,onChange:e=>b({...f,image:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Exibi\xe7\xe3o"}),(0,r.jsx)("input",{type:"number",value:f.order,onChange:e=>b({...f,order:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",checked:f.isActive,onChange:e=>b({...f,isActive:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Categoria ativa"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:u?"Atualizar":"Criar"})]})]})]})})})]})}},36068:function(e,s,t){"use strict";t.r(s),t.d(s,{CustomersManagement:function(){return g}});var r=t(57437),a=t(2265),l=t(91981),n=t(41827),i=t(67972),o=t(1295),c=t(12741),d=t(96142),u=t(28203);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,t(62898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var x=t(49617),h=t(45367),p=t(58222);function g(){var e,s;let[t,g]=(0,a.useState)([]),[f,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,C]=(0,a.useState)(!0),[k,E]=(0,a.useState)(null),[A,I]=(0,a.useState)(""),[S,D]=(0,a.useState)({name:"",email:"",phone:"",cpf:"",address:"",city:"",state:"",zipCode:"",birthDate:"",notes:"",isActive:!0,preferences:{favoriteProducts:[],dietaryRestrictions:[],allergies:[]}});(0,a.useEffect)(()=>{P()},[]),(0,a.useEffect)(()=>{Z()},[A,t]);let P=async()=>{try{C(!0);let e=await (0,p.OL)();g(e)}catch(e){E("Erro ao carregar clientes"),console.error("Erro ao buscar clientes:",e)}finally{C(!1)}},Z=()=>{if(!A.trim()){b(t);return}b(t.filter(e=>e.name.toLowerCase().includes(A.toLowerCase())||e.email.toLowerCase().includes(A.toLowerCase())||e.phone.includes(A)||e.cpf.includes(A)))},L=async e=>{if(e.preventDefault(),!S.name.trim()){E("Nome do cliente \xe9 obrigat\xf3rio");return}if(!S.email.trim()){E("Email \xe9 obrigat\xf3rio");return}if(!S.phone.trim()){E("Telefone \xe9 obrigat\xf3rio");return}if(!S.cpf.trim()){E("CPF \xe9 obrigat\xf3rio");return}try{j?await (0,p.uG)(j.id,S):await (0,p.wK)(S),await P(),T(),E(null)}catch(e){E("Erro ao salvar cliente"),console.error("Erro ao salvar cliente:",e)}},M=e=>{N(e),D({name:e.name,email:e.email,phone:e.phone,cpf:e.cpf,address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",birthDate:e.birthDate||"",notes:e.notes||"",isActive:e.isActive,preferences:e.preferences||{favoriteProducts:[],dietaryRestrictions:[],allergies:[]}}),y(!0)},R=async e=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{await (0,p.LA)(e),await P(),E(null)}catch(e){E("Erro ao excluir cliente"),console.error("Erro ao excluir cliente:",e)}},T=()=>{y(!1),N(null),D({name:"",email:"",phone:"",cpf:"",address:"",city:"",state:"",zipCode:"",birthDate:"",notes:"",isActive:!0,preferences:{favoriteProducts:[],dietaryRestrictions:[],allergies:[]}}),E(null)},q=async e=>{try{await (0,p.uG)(e.id,{isActive:!e.isActive}),await P()}catch(e){E("Erro ao alterar status do cliente"),console.error("Erro ao alterar status:",e)}},z=e=>e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),O=e=>e.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"),F=e=>e?new Date(e).toLocaleDateString("pt-BR"):"";return w?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Clientes"}),(0,r.jsxs)("button",{onClick:()=>{y(!0),N(null),D({name:"",email:"",phone:"",cpf:"",address:"",city:"",state:"",zipCode:"",birthDate:"",notes:"",isActive:!0,preferences:{favoriteProducts:[],dietaryRestrictions:[],allergies:[]}})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:A,onChange:e=>I(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar por nome, email, telefone ou CPF..."})]}),k&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:k})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===f.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:A?"Nenhum cliente encontrado para esta busca":"Nenhum cliente cadastrado"}):f.map(e=>{var s;return(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-6 w-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Ativo":"Inativo"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),e.email]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),O(e.phone)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),z(e.cpf)]})]}),e.address&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),e.address,", ",e.city," - ",e.state," ",e.zipCode]}),e.birthDate&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"Nascimento: ",F(e.birthDate)]}),e.notes&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.notes}),(null===(s=e.preferences)||void 0===s?void 0:s.allergies)&&e.preferences.allergies.length>0&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-yellow-600 mt-1",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-1"}),"Alergias: ",e.preferences.allergies.join(", ")]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>q(e),className:"px-3 py-1 text-xs font-medium rounded-md ".concat(e.isActive?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"),children:e.isActive?"Desativar":"Ativar"}),(0,r.jsx)("button",{onClick:()=>M(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>R(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})]})]})},e.id)})})}),v&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[700px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:j?"Editar Cliente":"Novo Cliente"}),(0,r.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),(0,r.jsx)("input",{type:"text",value:S.name,onChange:e=>D({...S,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do cliente",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,r.jsx)("input",{type:"email",value:S.email,onChange:e=>D({...S,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"cliente@email.com",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),(0,r.jsx)("input",{type:"tel",value:S.phone,onChange:e=>D({...S,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF *"}),(0,r.jsx)("input",{type:"text",value:S.cpf,onChange:e=>D({...S,cpf:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123.456.789-00",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endere\xe7o"}),(0,r.jsx)("input",{type:"text",value:S.address,onChange:e=>D({...S,address:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua, n\xfamero, complemento"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),(0,r.jsx)("input",{type:"text",value:S.city,onChange:e=>D({...S,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"S\xe3o Paulo"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,r.jsx)("input",{type:"text",value:S.state,onChange:e=>D({...S,state:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"SP"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),(0,r.jsx)("input",{type:"text",value:S.zipCode,onChange:e=>D({...S,zipCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"01234-567"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),(0,r.jsx)("input",{type:"date",value:S.birthDate,onChange:e=>D({...S,birthDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",checked:S.isActive,onChange:e=>D({...S,isActive:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Cliente ativo"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{value:S.notes,onChange:e=>D({...S,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es sobre o cliente..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alergias (separadas por v\xedrgula)"}),(0,r.jsx)("input",{type:"text",value:(null===(s=S.preferences)||void 0===s?void 0:null===(e=s.allergies)||void 0===e?void 0:e.join(", "))||"",onChange:e=>D({...S,preferences:{...S.preferences,allergies:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Gl\xfaten, Lactose, Ovos"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:T,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:j?"Atualizar":"Criar"})]})]})]})})})]})}},20929:function(e,s,t){"use strict";t.r(s),t.d(s,{InventoryManagement:function(){return u}});var r=t(57437),a=t(2265),l=t(4322),n=t(41827),i=t(72894),o=t(85790),c=t(49617),d=t(58222);function u(){let[e,s]=(0,a.useState)([]),[t,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)(null),[y,j]=(0,a.useState)(""),[N,w]=(0,a.useState)("ALL"),[C,k]=(0,a.useState)({currentStock:0,minStock:0,maxStock:0,notes:""});(0,a.useEffect)(()=>{E()},[]),(0,a.useEffect)(()=>{A()},[y,N,e]);let E=async()=>{try{f(!0);let e=await (0,d.Xp)(),t=Array.isArray(e)?e:e.products||[];s(t)}catch(e){v("Erro ao carregar produtos"),console.error("Erro ao buscar produtos:",e)}finally{f(!1)}},A=()=>{let s=e;y.trim()&&(s=s.filter(e=>{var s;return e.name.toLowerCase().includes(y.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))})),u(s)},I=async e=>{if(e.preventDefault(),h)try{console.log("Atualiza\xe7\xe3o de estoque:",C),await E(),D(),v(null)}catch(e){v("Erro ao atualizar estoque"),console.error("Erro ao atualizar estoque:",e)}},S=e=>{p(e),k({currentStock:0,minStock:0,maxStock:0,notes:""}),x(!0)},D=()=>{x(!1),p(null),k({currentStock:0,minStock:0,maxStock:0,notes:""}),v(null)},P=e=>({status:"OUT",color:"bg-red-100 text-red-800",text:"Sem Estoque"}),Z=e=>({trend:"STABLE",color:"text-gray-600",icon:l.Z});return g?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Estoque"}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Total de produtos: ",e.length]})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar produtos..."})]}),(0,r.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"ALL",children:"Todos os Status"}),(0,r.jsx)("option",{value:"OUT",children:"Sem Estoque"}),(0,r.jsx)("option",{value:"LOW",children:"Estoque Baixo"}),(0,r.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,r.jsx)("option",{value:"HIGH",children:"Estoque Alto"})]})]}),b&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:b})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-red-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Sem Estoque"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estoque Baixo"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Normal"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>!0).length})]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estoque Alto"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"0"})]})]})})]}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===t.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:y||"ALL"!==N?"Nenhum produto encontrado para os filtros aplicados":"Nenhum produto cadastrado"}):t.map(e=>{let s=P(e),t=Z(e),a=t.icon;return(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"h-6 w-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:s.text})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),"Estoque atual: 0"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),"M\xednimo: 0"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"M\xe1ximo: 999999"]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center ".concat(t.color),children:[(0,r.jsx)(a,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{className:"text-xs",children:"UP"===t.trend?"Subindo":"DOWN"===t.trend?"Descendo":"Est\xe1vel"})]}),(0,r.jsx)("button",{onClick:()=>S(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})]})]})},e.id)})})}),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[500px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Atualizar Estoque - ",null==h?void 0:h.name]}),(0,r.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Atual *"}),(0,r.jsx)("input",{type:"number",min:"0",value:C.currentStock,onChange:e=>k({...C,currentStock:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque M\xednimo"}),(0,r.jsx)("input",{type:"number",min:"0",value:C.minStock,onChange:e=>k({...C,minStock:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque M\xe1ximo"}),(0,r.jsx)("input",{type:"number",min:"0",value:C.maxStock,onChange:e=>k({...C,maxStock:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{value:C.notes,onChange:e=>k({...C,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es sobre a atualiza\xe7\xe3o de estoque..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:D,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Atualizar"})]})]})]})})})]})}},50051:function(e,s,t){"use strict";t.r(s),t.d(s,{InviteUserForm:function(){return o}});var r=t(57437),a=t(2265),l=t(61865),n=t(58222);let i=["Admin","Gerente","Gar\xe7om","Cozinha","Caixa"];function o(){let{register:e,handleSubmit:s,formState:{errors:t,isSubmitting:o},reset:c}=(0,l.cI)(),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),h=async e=>{u(null),x(null);try{await (0,n.R2)(e),x("Convite enviado com sucesso para ".concat(e.email,"!")),c()}catch(e){var s,t;u((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Falha ao enviar o convite.")}};return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Convidar Novo Usu\xe1rio"}),(0,r.jsxs)("form",{onSubmit:s(h),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",...e("email",{required:"Email \xe9 obrigat\xf3rio"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),t.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Fun\xe7\xe3o"}),(0,r.jsx)("select",{id:"role",...e("role",{required:"Fun\xe7\xe3o \xe9 obrigat\xf3ria"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",children:i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),t.role&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:t.role.message})]})]}),d&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:d}),m&&(0,r.jsx)("p",{className:"text-sm text-green-600",children:m}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:bg-gray-400",children:o?"Enviando...":"Enviar Convite"})})]})]})}},96781:function(e,s,t){"use strict";t.r(s),t.d(s,{OrdersManagement:function(){return h}});var r=t(57437),a=t(2265),l=t(91981),n=t(41827),i=t(93505),o=t(67972),c=t(23223),d=t(6141),u=t(49617),m=t(45367),x=t(58222);function h(){let[e,s]=(0,a.useState)([]),[t,h]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[j,N]=(0,a.useState)(!1),[w,C]=(0,a.useState)(null),[k,E]=(0,a.useState)(!0),[A,I]=(0,a.useState)(null),[S,D]=(0,a.useState)(""),[P,Z]=(0,a.useState)("ALL"),[L,M]=(0,a.useState)({customerId:"",tableId:"",items:[{productId:"",quantity:1,notes:""}],status:"PENDING",priority:"MEDIUM",estimatedTime:30,notes:""});(0,a.useEffect)(()=>{R()},[]),(0,a.useEffect)(()=>{T()},[S,P,e]);let R=async()=>{try{E(!0);let[e,t,r,a]=await Promise.all([(0,x.AU)(),(0,x.OL)(),(0,x.Lk)(),(0,x.Xp)()]);s(e),g(t),b(r),y(a.products||a)}catch(e){I("Erro ao carregar dados"),console.error("Erro ao buscar dados:",e)}finally{E(!1)}},T=()=>{let s=e;S.trim()&&(s=s.filter(e=>{var s,t;return(null===(s=e.customerName)||void 0===s?void 0:s.toLowerCase().includes(S.toLowerCase()))||(null===(t=e.tableName)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))||e.id.includes(S)})),"ALL"!==P&&(s=s.filter(e=>e.status===P)),h(s)},q=async e=>{if(e.preventDefault(),!L.customerId){I("Cliente \xe9 obrigat\xf3rio");return}if(!L.tableId){I("Mesa \xe9 obrigat\xf3ria");return}if(0===L.items.length||L.items.some(e=>!e.productId)){I("Adicione pelo menos um produto");return}try{w?await (0,x.Cs)(w.id,L):await (0,x.LV)(L),await R(),F(),I(null)}catch(e){I("Erro ao salvar pedido"),console.error("Erro ao salvar pedido:",e)}},z=e=>{C(e),M({customerId:e.customerId,tableId:e.tableId,items:e.items||[{productId:"",quantity:1,notes:""}],status:e.status,priority:e.priority,estimatedTime:e.estimatedTime,notes:e.notes||""}),N(!0)},O=async e=>{if(confirm("Tem certeza que deseja excluir este pedido?"))try{await (0,x.wH)(e),await R(),I(null)}catch(e){I("Erro ao excluir pedido"),console.error("Erro ao excluir pedido:",e)}},F=()=>{N(!1),C(null),M({customerId:"",tableId:"",items:[{productId:"",quantity:1,notes:""}],status:"PENDING",priority:"MEDIUM",estimatedTime:30,notes:""}),I(null)},U=e=>{let s=L.items.filter((s,t)=>t!==e);M({...L,items:s})},G=(e,s,t)=>{let r=[...L.items];r[e]={...r[e],[s]:t},M({...L,items:r})},B=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"PREPARING":return"bg-blue-100 text-blue-800";case"READY":return"bg-green-100 text-green-800";case"DELIVERED":default:return"bg-gray-100 text-gray-800";case"CANCELLED":return"bg-red-100 text-red-800"}},V=e=>{switch(e){case"PENDING":return"Pendente";case"PREPARING":return"Preparando";case"READY":return"Pronto";case"DELIVERED":return"Entregue";case"CANCELLED":return"Cancelado";default:return e}},H=e=>{switch(e){case"LOW":return"bg-green-100 text-green-800";case"MEDIUM":return"bg-yellow-100 text-yellow-800";case"HIGH":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=e=>{switch(e){case"LOW":return"Baixa";case"MEDIUM":return"M\xe9dia";case"HIGH":return"Alta";default:return e}},$=e=>{let s=p.find(s=>s.id===e);return s?s.name:"Cliente n\xe3o encontrado"},X=e=>{let s=f.find(s=>s.id===e);return s?s.name:"Mesa n\xe3o encontrada"},W=e=>{let s=v.find(s=>s.id===e);return s?s.name:"Produto n\xe3o encontrado"};return k?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Pedidos"}),(0,r.jsxs)("button",{onClick:()=>{N(!0),C(null),M({customerId:"",tableId:"",items:[{productId:"",quantity:1,notes:""}],status:"PENDING",priority:"MEDIUM",estimatedTime:30,notes:""})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Novo Pedido"]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:S,onChange:e=>D(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar por cliente, mesa ou ID..."})]}),(0,r.jsxs)("select",{value:P,onChange:e=>Z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"ALL",children:"Todos os Status"}),(0,r.jsx)("option",{value:"PENDING",children:"Pendente"}),(0,r.jsx)("option",{value:"PREPARING",children:"Preparando"}),(0,r.jsx)("option",{value:"READY",children:"Pronto"}),(0,r.jsx)("option",{value:"DELIVERED",children:"Entregue"}),(0,r.jsx)("option",{value:"CANCELLED",children:"Cancelado"})]})]}),A&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:A})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===t.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:S||"ALL"!==P?"Nenhum pedido encontrado para os filtros aplicados":"Nenhum pedido cadastrado"}):t.map(e=>{var s;return(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-6 w-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-gray-900",children:["Pedido #",e.id.slice(-8)]}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(B(e.status)),children:V(e.status)}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(H(e.priority)),children:_(e.priority)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),$(e.customerId)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),X(e.tableId)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),e.estimatedTime," min"]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,r.jsx)("strong",{children:"Itens:"})," ",null===(s=e.items)||void 0===s?void 0:s.map(e=>"".concat(W(e.productId)," (").concat(e.quantity,"x)")).join(", ")]}),e.notes&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.notes})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>z(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>O(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})})]})]})},e.id)})})}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[800px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:w?"Editar Pedido":"Novo Pedido"}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),(0,r.jsxs)("select",{value:L.customerId,onChange:e=>M({...L,customerId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione um cliente"}),p.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesa *"}),(0,r.jsxs)("select",{value:L.tableId,onChange:e=>M({...L,tableId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione uma mesa"}),f.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:L.status,onChange:e=>M({...L,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"PENDING",children:"Pendente"}),(0,r.jsx)("option",{value:"PREPARING",children:"Preparando"}),(0,r.jsx)("option",{value:"READY",children:"Pronto"}),(0,r.jsx)("option",{value:"DELIVERED",children:"Entregue"}),(0,r.jsx)("option",{value:"CANCELLED",children:"Cancelado"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),(0,r.jsxs)("select",{value:L.priority,onChange:e=>M({...L,priority:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"LOW",children:"Baixa"}),(0,r.jsx)("option",{value:"MEDIUM",children:"M\xe9dia"}),(0,r.jsx)("option",{value:"HIGH",children:"Alta"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado (min)"}),(0,r.jsx)("input",{type:"number",min:"1",value:L.estimatedTime,onChange:e=>M({...L,estimatedTime:parseInt(e.target.value)||30}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Itens do Pedido *"}),(0,r.jsxs)("div",{className:"space-y-2",children:[L.items.map((e,s)=>(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("select",{value:e.productId,onChange:e=>G(s,"productId",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione um produto"}),v.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," - R$ ",e.price.toFixed(2)]},e.id))]}),(0,r.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>G(s,"quantity",parseInt(e.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Qtd",required:!0}),(0,r.jsx)("input",{type:"text",value:e.notes,onChange:e=>G(s,"notes",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es"}),L.items.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>U(s),className:"px-3 py-2 text-red-600 hover:text-red-900 border border-red-300 rounded-md hover:bg-red-50",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})})]},s)),(0,r.jsx)("button",{type:"button",onClick:()=>{M({...L,items:[...L.items,{productId:"",quantity:1,notes:""}]})},className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"+ Adicionar Item"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{value:L.notes,onChange:e=>M({...L,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es sobre o pedido..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:w?"Atualizar":"Criar"})]})]})]})})})]})}},28911:function(e,s,t){"use strict";t.r(s),t.d(s,{PaymentsManagement:function(){return p}});var r=t(57437),a=t(2265),l=t(91981),n=t(41827),i=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var c=t(41298);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);var u=t(6141),m=t(49617),x=t(45367),h=t(58222);function p(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(!0),[w,C]=(0,a.useState)(null),[k,E]=(0,a.useState)(""),[A,I]=(0,a.useState)("ALL"),[S,D]=(0,a.useState)("ALL"),[P,Z]=(0,a.useState)({orderId:"",amount:0,method:"CASH",status:"PENDING",transactionId:"",notes:""});(0,a.useEffect)(()=>{L()},[]),(0,a.useEffect)(()=>{M()},[k,A,S,e]);let L=async()=>{try{N(!0);let[e,t]=await Promise.all([(0,h._P)(),(0,h.AU)()]);s(e),g(t)}catch(e){C("Erro ao carregar dados"),console.error("Erro ao buscar dados:",e)}finally{N(!1)}},M=()=>{let s=e;k.trim()&&(s=s.filter(e=>{var s;return(null===(s=e.transactionId)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase()))||e.orderId.includes(k)||e.amount.toString().includes(k)})),"ALL"!==A&&(s=s.filter(e=>e.status===A)),"ALL"!==S&&(s=s.filter(e=>e.method===S)),i(s)},R=async e=>{if(e.preventDefault(),!P.orderId){C("Pedido \xe9 obrigat\xf3rio");return}if(P.amount<=0){C("Valor deve ser maior que zero");return}try{v?await (0,h.cQ)(v.id,P):await (0,h.Ji)(P),await L(),z(),C(null)}catch(e){C("Erro ao salvar pagamento"),console.error("Erro ao salvar pagamento:",e)}},T=e=>{y(e),Z({orderId:e.orderId,amount:e.amount,method:e.method,status:e.status,transactionId:e.transactionId||"",notes:e.notes||""}),b(!0)},q=async e=>{if(confirm("Tem certeza que deseja excluir este pagamento?"))try{await (0,h.bi)(e),await L(),C(null)}catch(e){C("Erro ao excluir pagamento"),console.error("Erro ao excluir pagamento:",e)}},z=()=>{b(!1),y(null),Z({orderId:"",amount:0,method:"CASH",status:"PENDING",transactionId:"",notes:""}),C(null)},O=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"COMPLETED":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=e=>{switch(e){case"PENDING":return"Pendente";case"COMPLETED":return"Conclu\xeddo";case"FAILED":return"Falhou";case"REFUNDED":return"Reembolsado";default:return e}},U=e=>{switch(e){case"CASH":return"bg-green-100 text-green-800";case"CREDIT_CARD":return"bg-blue-100 text-blue-800";case"DEBIT_CARD":return"bg-purple-100 text-purple-800";case"PIX":return"bg-yellow-100 text-yellow-800";case"TRANSFER":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},G=e=>{switch(e){case"CASH":return"Dinheiro";case"CREDIT_CARD":return"Cart\xe3o de Cr\xe9dito";case"DEBIT_CARD":return"Cart\xe3o de D\xe9bito";case"PIX":return"PIX";case"TRANSFER":return"Transfer\xeancia";default:return e}},B=e=>{let s=p.find(s=>s.id===e);return s?"Pedido #".concat(s.id.slice(-8)," - R$ ").concat(s.total.toFixed(2)):"Pedido n\xe3o encontrado"},V=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),H=e=>{if(!e)return"";let s=new Date(e);return s.toLocaleDateString("pt-BR")+" "+s.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};return j?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Pagamentos"}),(0,r.jsxs)("button",{onClick:()=>{b(!0),y(null),Z({orderId:"",amount:0,method:"CASH",status:"PENDING",transactionId:"",notes:""})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Novo Pagamento"]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:k,onChange:e=>E(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar por ID da transa\xe7\xe3o, pedido ou valor..."})]}),(0,r.jsxs)("select",{value:A,onChange:e=>I(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"ALL",children:"Todos os Status"}),(0,r.jsx)("option",{value:"PENDING",children:"Pendente"}),(0,r.jsx)("option",{value:"COMPLETED",children:"Conclu\xeddo"}),(0,r.jsx)("option",{value:"FAILED",children:"Falhou"}),(0,r.jsx)("option",{value:"REFUNDED",children:"Reembolsado"})]}),(0,r.jsxs)("select",{value:S,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"ALL",children:"Todos os M\xe9todos"}),(0,r.jsx)("option",{value:"CASH",children:"Dinheiro"}),(0,r.jsx)("option",{value:"CREDIT_CARD",children:"Cart\xe3o de Cr\xe9dito"}),(0,r.jsx)("option",{value:"DEBIT_CARD",children:"Cart\xe3o de D\xe9bito"}),(0,r.jsx)("option",{value:"PIX",children:"PIX"}),(0,r.jsx)("option",{value:"TRANSFER",children:"Transfer\xeancia"})]})]}),w&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:w})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===t.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:k||"ALL"!==A||"ALL"!==S?"Nenhum pagamento encontrado para os filtros aplicados":"Nenhum pagamento cadastrado"}):t.map(e=>(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(o,{className:"h-6 w-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.transactionId?"Transa\xe7\xe3o: ".concat(e.transactionId):"Pagamento #".concat(e.id.slice(-8))}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(O(e.status)),children:F(e.status)}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(U(e.method)),children:G(e.method)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),V(e.amount)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d,{className:"h-4 w-4 mr-1"}),B(e.orderId)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),H(e.createdAt)]})]}),e.notes&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.notes})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>T(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>q(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})})]})]})},e.id))})}),f&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:v?"Editar Pagamento":"Novo Pagamento"}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pedido *"}),(0,r.jsxs)("select",{value:P.orderId,onChange:e=>Z({...P,orderId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione um pedido"}),p.map(e=>(0,r.jsxs)("option",{value:e.id,children:["Pedido #",e.id.slice(-8)," - R$ ",e.total.toFixed(2)]},e.id))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor *"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0.01",value:P.amount,onChange:e=>Z({...P,amount:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9todo de Pagamento *"}),(0,r.jsxs)("select",{value:P.method,onChange:e=>Z({...P,method:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"CASH",children:"Dinheiro"}),(0,r.jsx)("option",{value:"CREDIT_CARD",children:"Cart\xe3o de Cr\xe9dito"}),(0,r.jsx)("option",{value:"DEBIT_CARD",children:"Cart\xe3o de D\xe9bito"}),(0,r.jsx)("option",{value:"PIX",children:"PIX"}),(0,r.jsx)("option",{value:"TRANSFER",children:"Transfer\xeancia"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:P.status,onChange:e=>Z({...P,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"PENDING",children:"Pendente"}),(0,r.jsx)("option",{value:"COMPLETED",children:"Conclu\xeddo"}),(0,r.jsx)("option",{value:"FAILED",children:"Falhou"}),(0,r.jsx)("option",{value:"REFUNDED",children:"Reembolsado"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID da Transa\xe7\xe3o"}),(0,r.jsx)("input",{type:"text",value:P.transactionId,onChange:e=>Z({...P,transactionId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ID da transa\xe7\xe3o (opcional)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{value:P.notes,onChange:e=>Z({...P,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es sobre o pagamento..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:z,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:v?"Atualizar":"Criar"})]})]})]})})})]})}},93233:function(e,s,t){"use strict";t.r(s),t.d(s,{ProductsManagement:function(){return u}});var r=t(57437),a=t(2265),l=t(91981),n=t(38438),i=t(72894),o=t(49617),c=t(45367),d=t(58222);function u(){var e;let[s,t]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(!0),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)({name:"",description:"",price:0,categoryId:"",imageUrl:"",isAvailable:!0,preparationTime:0,allergens:[],nutritionalInfo:{calories:0,protein:0,carbs:0,fat:0}});(0,a.useEffect)(()=>{w()},[]);let w=async()=>{try{b(!0);let[e,s]=await Promise.all([(0,d.Xp)(),(0,d.CP)()]);t(e.products||e),m(s)}catch(e){y("Erro ao carregar dados"),console.error("Erro ao buscar dados:",e)}finally{b(!1)}},C=async e=>{if(e.preventDefault(),!j.name.trim()){y("Nome do produto \xe9 obrigat\xf3rio");return}if(!j.categoryId){y("Categoria \xe9 obrigat\xf3ria");return}if(j.price<=0){y("Pre\xe7o deve ser maior que zero");return}try{p?await (0,d.nM)(p.id,j):await (0,d.ry)(j),await w(),A(),y(null)}catch(e){y("Erro ao salvar produto"),console.error("Erro ao salvar produto:",e)}},k=e=>{g(e),N({name:e.name,description:e.description||"",price:e.price,categoryId:e.categoryId,imageUrl:e.imageUrl||"",isAvailable:e.isAvailable,preparationTime:e.preparationTime||0,allergens:e.allergens||[],nutritionalInfo:e.nutritionalInfo||{calories:0,protein:0,carbs:0,fat:0}}),h(!0)},E=async e=>{if(confirm("Tem certeza que deseja excluir este produto?"))try{await (0,d.Ir)(e),await w(),y(null)}catch(e){y("Erro ao excluir produto"),console.error("Erro ao excluir produto:",e)}},A=()=>{h(!1),g(null),N({name:"",description:"",price:0,categoryId:"",imageUrl:"",isAvailable:!0,preparationTime:0,allergens:[],nutritionalInfo:{calories:0,protein:0,carbs:0,fat:0}}),y(null)},I=e=>{let s=u.find(s=>s.id===e);return s?s.name:"Categoria n\xe3o encontrada"},S=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return f?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Produtos"}),(0,r.jsxs)("button",{onClick:()=>{h(!0),g(null),N({name:"",description:"",price:0,categoryId:"",imageUrl:"",isAvailable:!0,preparationTime:0,allergens:[],nutritionalInfo:{calories:0,protein:0,carbs:0,fat:0}})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}),v&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:v})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===s.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhum produto cadastrado"}):s.map(e=>(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:e.imageUrl?(0,r.jsx)("img",{src:e.imageUrl,alt:e.name,className:"h-16 w-16 rounded-lg object-cover"}):(0,r.jsx)("div",{className:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"h-8 w-8 text-gray-400"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isAvailable?"Dispon\xedvel":"Indispon\xedvel"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-400",children:[(0,r.jsxs)("span",{children:["Categoria: ",I(e.categoryId)]}),(0,r.jsxs)("span",{children:["Pre\xe7o: ",S(e.price)]}),e.preparationTime&&(0,r.jsxs)("span",{children:["Preparo: ",e.preparationTime,"min"]})]}),e.allergens&&e.allergens.length>0&&(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)(i.Z,{className:"h-3 w-3 text-yellow-500 mr-1"}),(0,r.jsxs)("span",{className:"text-xs text-yellow-600",children:["Alerg\xeanicos: ",e.allergens.join(", ")]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>k(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>E(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})]})]})},e.id))})}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:p?"Editar Produto":"Novo Produto"}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Produto *"}),(0,r.jsx)("input",{type:"text",value:j.name,onChange:e=>N({...j,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Hamb\xfarguer Cl\xe1ssico",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),(0,r.jsxs)("select",{value:j.categoryId,onChange:e=>N({...j,categoryId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione uma categoria"}),u.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{value:j.description,onChange:e=>N({...j,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descri\xe7\xe3o do produto..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pre\xe7o *"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:j.price,onChange:e=>N({...j,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Preparo (min)"}),(0,r.jsx)("input",{type:"number",min:"0",value:j.preparationTime,onChange:e=>N({...j,preparationTime:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Imagem"}),(0,r.jsx)("input",{type:"url",value:j.imageUrl,onChange:e=>N({...j,imageUrl:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alerg\xeanicos (separados por v\xedrgula)"}),(0,r.jsx)("input",{type:"text",value:(null===(e=j.allergens)||void 0===e?void 0:e.join(", "))||"",onChange:e=>N({...j,allergens:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Gl\xfaten, Lactose, Ovos"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isAvailable",checked:j.isAvailable,onChange:e=>N({...j,isAvailable:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isAvailable",className:"ml-2 block text-sm text-gray-900",children:"Produto dispon\xedvel"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:p?"Atualizar":"Criar"})]})]})]})})})]})}},84106:function(e,s,t){"use strict";t.r(s),t.d(s,{TablesManagement:function(){return m}});var r=t(57437),a=t(2265),l=t(91981);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var i=t(25750),o=t(96142),c=t(49617),d=t(45367),u=t(58222);function m(){var e,s;let[t,m]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(!0),[w,C]=(0,a.useState)(null),[k,E]=(0,a.useState)({name:"",capacity:4,areaId:"",locationId:"",isActive:!0,isAvailable:!0,description:"",coordinates:{x:0,y:0}});(0,a.useEffect)(()=>{A()},[]);let A=async()=>{try{N(!0);let[e,s,t]=await Promise.all([(0,u.Lk)(),(0,u.ao)(),(0,u.JC)()]);m(e),h(s),g(t)}catch(e){C("Erro ao carregar dados"),console.error("Erro ao buscar dados:",e)}finally{N(!1)}},I=async e=>{if(e.preventDefault(),!k.name.trim()){C("Nome da mesa \xe9 obrigat\xf3rio");return}if(!k.areaId){C("\xc1rea \xe9 obrigat\xf3ria");return}if(!k.locationId){C("Localiza\xe7\xe3o \xe9 obrigat\xf3ria");return}if(k.capacity<=0){C("Capacidade deve ser maior que zero");return}try{v?await (0,u.T0)(v.id,k):await (0,u.W_)(k),await A(),P(),C(null)}catch(e){C("Erro ao salvar mesa"),console.error("Erro ao salvar mesa:",e)}},S=e=>{y(e),E({name:e.name,capacity:e.capacity,areaId:e.areaId,locationId:e.locationId,isActive:e.isActive,isAvailable:e.isAvailable,description:e.description||"",coordinates:e.coordinates||{x:0,y:0}}),b(!0)},D=async e=>{if(confirm("Tem certeza que deseja excluir esta mesa?"))try{await (0,u.WQ)(e),await A(),C(null)}catch(e){C("Erro ao excluir mesa"),console.error("Erro ao excluir mesa:",e)}},P=()=>{b(!1),y(null),E({name:"",capacity:4,areaId:"",locationId:"",isActive:!0,isAvailable:!0,description:"",coordinates:{x:0,y:0}}),C(null)},Z=async e=>{try{await (0,u.T0)(e.id,{isActive:!e.isActive}),await A()}catch(e){C("Erro ao alterar status da mesa"),console.error("Erro ao alterar status:",e)}},L=async e=>{try{await (0,u.T0)(e.id,{isAvailable:!e.isAvailable}),await A()}catch(e){C("Erro ao alterar disponibilidade da mesa"),console.error("Erro ao alterar disponibilidade:",e)}},M=e=>{let s=x.find(s=>s.id===e);return s?s.name:"\xc1rea n\xe3o encontrada"},R=e=>{let s=p.find(s=>s.id===e);return s?s.name:"Localiza\xe7\xe3o n\xe3o encontrada"};return j?(0,r.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Gest\xe3o de Mesas"}),(0,r.jsxs)("button",{onClick:()=>{b(!0),y(null),E({name:"",capacity:4,areaId:"",locationId:"",isActive:!0,isAvailable:!0,description:"",coordinates:{x:0,y:0}})},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Nova Mesa"]})]}),w&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:w})]})})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:0===t.length?(0,r.jsx)("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhuma mesa cadastrada"}):t.map(e=>(0,r.jsx)("li",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(n,{className:"h-6 w-6 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Ativa":"Inativa"}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isAvailable?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.isAvailable?"Dispon\xedvel":"Ocupada"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),e.capacity," pessoas"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),M(e.areaId)," - ",R(e.locationId)]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>Z(e),className:"px-3 py-1 text-xs font-medium rounded-md ".concat(e.isActive?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"),children:e.isActive?"Desativar":"Ativar"}),(0,r.jsx)("button",{onClick:()=>L(e),className:"px-3 py-1 text-xs font-medium rounded-md ".concat(e.isAvailable?"text-yellow-700 bg-yellow-100 hover:bg-yellow-200":"text-blue-700 bg-blue-100 hover:bg-blue-200"),children:e.isAvailable?"Marcar Ocupada":"Marcar Dispon\xedvel"}),(0,r.jsx)("button",{onClick:()=>S(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>D(e.id),className:"text-red-600 hover:text-red-900 p-1",children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})]})]})},e.id))})}),f&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:v?"Editar Mesa":"Nova Mesa"}),(0,r.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Mesa *"}),(0,r.jsx)("input",{type:"text",value:k.name,onChange:e=>E({...k,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Mesa 1",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacidade *"}),(0,r.jsx)("input",{type:"number",min:"1",max:"20",value:k.capacity,onChange:e=>E({...k,capacity:parseInt(e.target.value)||4}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"4",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localiza\xe7\xe3o *"}),(0,r.jsxs)("select",{value:k.locationId,onChange:e=>E({...k,locationId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione uma localiza\xe7\xe3o"}),p.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc1rea *"}),(0,r.jsxs)("select",{value:k.areaId,onChange:e=>E({...k,areaId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Selecione uma \xe1rea"}),x.filter(e=>e.locationId===k.locationId).map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{value:k.description,onChange:e=>E({...k,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descri\xe7\xe3o opcional da mesa..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordenada X"}),(0,r.jsx)("input",{type:"number",value:(null===(e=k.coordinates)||void 0===e?void 0:e.x)||0,onChange:e=>{var s;return E({...k,coordinates:{x:parseInt(e.target.value)||0,y:(null===(s=k.coordinates)||void 0===s?void 0:s.y)||0}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordenada Y"}),(0,r.jsx)("input",{type:"number",value:(null===(s=k.coordinates)||void 0===s?void 0:s.y)||0,onChange:e=>{var s;return E({...k,coordinates:{x:(null===(s=k.coordinates)||void 0===s?void 0:s.x)||0,y:parseInt(e.target.value)||0}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",checked:k.isActive,onChange:e=>E({...k,isActive:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Mesa ativa"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isAvailable",checked:k.isAvailable,onChange:e=>E({...k,isAvailable:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isAvailable",className:"ml-2 block text-sm text-gray-900",children:"Mesa dispon\xedvel"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:P,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:v?"Atualizar":"Criar"})]})]})]})})})]})}},93544:function(e,s,t){"use strict";t.r(s),t.d(s,{UsersTable:function(){return n}});var r=t(57437),a=t(2265),l=t(70290);function n(e){let{initialUsers:s}=e,[t,n]=(0,a.useState)(s),i=e=>e?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)):"Nunca";return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border mt-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Usu\xe1rios Ativos"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,r.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nome"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Fun\xe7\xe3o"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:"\xdaltimo Acesso"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,r.jsx)("span",{className:"sr-only",children:"A\xe7\xf5es"})})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,r.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.role})}),(0,r.jsx)("td",{className:"px-6 py-4",children:i(e.lastLogin)}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsx)("button",{className:"text-gray-500 hover:text-gray-800",children:(0,r.jsx)(l.Z,{size:18})})})]},e.id))})]})})]})}}},function(e){e.O(0,[737,865,222,971,938,744],function(){return e(e.s=59750)}),_N_E=e.O()}]);