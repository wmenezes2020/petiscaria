(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{62898:function(e,a,s){"use strict";s.d(a,{Z:function(){return i}});var r=s(2265),t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,a)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,...u},x)=>(0,r.createElement)("svg",{ref:x,...t,width:i,height:i,stroke:s,strokeWidth:o?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...u},[...a.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},70290:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},49617:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},91981:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9883:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},41827:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},23223:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]])},25750:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},82549:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},41337:function(e,a,s){Promise.resolve().then(s.bind(s,82850))},82850:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return M}});var r=s(57437),t=s(2265),l=s(58222),i=s(96061);let n=(0,i.j)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold tracking-wide",{variants:{status:{Livre:"bg-green-100 text-green-800",Ocupada:"bg-blue-100 text-blue-800",Reservada:"bg-purple-100 text-purple-800",Fechando:"bg-yellow-100 text-yellow-800",Inativa:"bg-gray-100 text-gray-800"}},defaultVariants:{status:"Inativa"}}),o={Livre:"Livre",Ocupada:"Ocupada",Reservada:"Reservada",Fechando:"Fechando Conta",Inativa:"Inativa"};function c(e){let{status:a}=e;return(0,r.jsx)("span",{className:n({status:a}),children:o[a||"Inativa"]})}var d=s(70290),u=s(25750);let x=(0,i.j)("bg-white rounded-lg shadow-md p-5 flex flex-col justify-between transition-all duration-200 border-l-4 hover:shadow-xl hover:-translate-y-1 cursor-pointer",{variants:{status:{Livre:"border-green-500",Ocupada:"border-blue-500",Reservada:"border-purple-500",Fechando:"border-yellow-500",Inativa:"border-gray-300"}},defaultVariants:{status:"Inativa"}});function m(e){let{tableNumber:a,capacity:s,status:t,area:l}=e;return(0,r.jsxs)("div",{className:x({status:t}),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:l||"Sal\xe3o"}),(0,r.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:["Mesa ",String(a).padStart(2,"0")]})]}),(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(d.Z,{size:20})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-end mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(u.Z,{size:16,className:"mr-2"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[s," lugares"]})]}),(0,r.jsx)(c,{status:t})]})]})}var h=s(61865),g=s(38110),p=s(92160),v=s(49617),y=s(9883),f=s(82549),b=s(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,b.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),N=p.Ry({name:p.Z_().min(1,"Nome da mesa \xe9 obrigat\xf3rio"),capacity:p.Rx().min(1,"Capacidade deve ser maior que 0"),areaId:p.Z_().uuid("Selecione uma \xe1rea"),locationId:p.Z_().uuid("Selecione uma localiza\xe7\xe3o"),isActive:p.O7(),isAvailable:p.O7(),description:p.Z_().optional(),coordinates:p.Ry({x:p.Rx(),y:p.Rx()}).optional()});function w(e){var a,s;let{isOpen:l,onClose:i,onSave:n,table:o,areas:c,locations:d}=e,[u,x]=(0,t.useState)(!1),{register:m,handleSubmit:p,reset:b,formState:{errors:w}}=(0,h.cI)({resolver:(0,g.F)(N),defaultValues:{name:(null==o?void 0:o.name)||"",capacity:(null==o?void 0:o.capacity)||4,areaId:(null==o?void 0:o.areaId)||"",locationId:(null==o?void 0:o.locationId)||"",isActive:null===(a=null==o?void 0:o.isActive)||void 0===a||a,isAvailable:null===(s=null==o?void 0:o.isAvailable)||void 0===s||s,description:(null==o?void 0:o.description)||"",coordinates:(null==o?void 0:o.coordinates)||{x:0,y:0}}});(0,t.useEffect)(()=>{l&&o?b({name:o.name,capacity:o.capacity,areaId:o.areaId,locationId:o.locationId,isActive:o.isActive,isAvailable:o.isAvailable,description:o.description||"",coordinates:o.coordinates||{x:0,y:0}}):l&&b({name:"",capacity:4,areaId:"",locationId:"",isActive:!0,isAvailable:!0,description:"",coordinates:{x:0,y:0}})},[l,o,b]);let k=async e=>{try{x(!0),await n(e),i(),b()}catch(e){console.error("Erro ao salvar mesa:",e)}finally{x(!1)}};return l?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 transition-all duration-200",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",zIndex:9999},children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-200",style:{backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:o?(0,r.jsx)(v.Z,{className:"h-5 w-5 text-white"}):(0,r.jsx)(y.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:o?"Editar Mesa":"Nova Mesa"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:o?"Atualize as informa\xe7\xf5es da mesa":"Configure uma nova mesa"})]})]}),(0,r.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(f.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("form",{onSubmit:p(k),className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Mesa"}),(0,r.jsx)("input",{type:"text",...m("name"),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Mesa 1"}),w.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.name.message})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacidade"}),(0,r.jsx)("input",{type:"number",...m("capacity",{valueAsNumber:!0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"4"}),w.capacity&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.capacity.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coordenada X"}),(0,r.jsx)("input",{type:"number",...m("coordinates.x",{valueAsNumber:!0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"0"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc1rea"}),(0,r.jsxs)("select",{...m("areaId"),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,r.jsx)("option",{value:"",children:"Selecione uma \xe1rea"}),c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),w.areaId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.areaId.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localiza\xe7\xe3o"}),(0,r.jsxs)("select",{...m("locationId"),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,r.jsx)("option",{value:"",children:"Selecione uma localiza\xe7\xe3o"}),(null==d?void 0:d.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id)))||[]]}),w.locationId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.locationId.message})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",...m("isActive"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mesa Ativa"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",...m("isAvailable"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mesa Dispon\xedvel"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coordenada Y"}),(0,r.jsx)("input",{type:"number",...m("coordinates.y",{valueAsNumber:!0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{...m("description"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Informa\xe7\xf5es adicionais sobre a mesa..."})]}),(0,r.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-colors",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Salvando..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Salvar Mesa"})]})})]})]})]})}):null}var k=s(91981),A=s(41827);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let I=(0,b.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Z=(0,b.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var C=s(23223),S=s(97024);function M(){let[e,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[n,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,x]=(0,t.useState)(!1),[h,g]=(0,t.useState)(null),[p,y]=(0,t.useState)(""),[f,b]=(0,t.useState)("grid"),[j,N]=(0,t.useState)("all"),[M,T]=(0,t.useState)([]),[D,L]=(0,t.useState)([]),{user:z,checkAuthStatus:E}=(0,S.t)(),O=e=>({available:"Livre",occupied:"Ocupada",reserved:"Reservada",closing:"Fechando",inactive:"Inativa"})[e]||"Inativa";(0,t.useEffect)(()=>{E(),(async()=>{try{d(!0);let[e,s,r]=await Promise.all([(0,l.Lk)(),(0,l.ao)(),(0,l.JC)()]);a(e),i(e),T(s),L(r)}catch(e){console.error("Failed to fetch data:",e),o("N\xe3o foi poss\xedvel carregar os dados.")}finally{d(!1)}})()},[]),(0,t.useEffect)(()=>{let a=e;"all"!==j&&(a=a.filter(e=>e.areaId===j)),p&&(a=a.filter(e=>{let a=M.find(a=>a.id===e.areaId);return e.name.toLowerCase().includes(p.toLowerCase())||a&&a.name.toLowerCase().includes(p.toLowerCase())})),i(a)},[e,j,p,M]);let R=async e=>{try{h?await (0,l.T0)(h.id,e):await (0,l.W_)(e);let s=await (0,l.Lk)();a(s),i(s),x(!1),g(null)}catch(e){console.error("Erro ao salvar mesa:",e),o("Erro ao salvar mesa. Tente novamente.")}},_=e=>{g(e),x(!0)},F=(null==z?void 0:z.role)==="admin"||(null==z?void 0:z.role)==="manager";return c?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("p",{children:"Carregando mesas..."})}):n?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("p",{className:"text-red-500",children:n})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mapa de Mesas"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Gerencie o layout e configura\xe7\xf5es das mesas do estabelecimento"})]}),(0,r.jsx)("div",{className:"flex space-x-3",children:F&&(0,r.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl",children:[(0,r.jsx)(k.Z,{size:18,className:"mr-2"}),"Nova Mesa"]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(A.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar por n\xfamero da mesa ou \xe1rea...",value:p,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})}),(0,r.jsx)("div",{className:"lg:w-48",children:(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,r.jsx)("option",{value:"all",children:"Todas as \xc1reas"}),M.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,r.jsx)("button",{onClick:()=>b("grid"),className:"p-2 rounded-md transition-all ".concat("grid"===f?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsx)(I,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>b("list"),className:"p-2 rounded-md transition-all ".concat("list"===f?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsx)(Z,{className:"h-5 w-5"})})]})]})})]}),s.length>0?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(C.Z,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Mesas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Dispon\xedveis"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>e.isAvailable).length})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,r.jsx)("div",{className:"w-5 h-5 bg-orange-500 rounded-full"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ocupadas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>!e.isAvailable).length})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,r.jsx)("div",{className:"w-5 h-5 bg-purple-500 rounded-full"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reservadas"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})})]}),"grid"===f?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:s.map(e=>{var a;return(0,r.jsxs)("div",{className:"group",children:[(0,r.jsx)(m,{tableNumber:parseInt(e.name)||0,capacity:e.capacity,status:O(e.isAvailable?"available":"occupied"),area:(null===(a=M.find(a=>a.id===e.areaId))||void 0===a?void 0:a.name)||"N/A"}),F&&(0,r.jsx)("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)("button",{onClick:()=>_(e),className:"w-full px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Editar Mesa"})})]},e.id)})}):(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Lista de Mesas"})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:s.map(e=>{var a;return(0,r.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-lg font-bold text-gray-700",children:e.name})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["Mesa ",e.name]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(a=M.find(a=>a.id===e.areaId))||void 0===a?void 0:a.name)||"N/A"," • ",e.capacity," pessoas"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.isAvailable?"bg-green-100 text-green-800":e.isAvailable?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"),children:e.isAvailable?"Dispon\xedvel":"Ocupada"}),F&&(0,r.jsx)("button",{onClick:()=>_(e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(v.Z,{className:"h-4 w-4"})})]})]})},e.id)})})]})]}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(C.Z,{className:"h-12 w-12 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma mesa encontrada"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6",children:p||"all"!==j?"Tente ajustar os filtros de busca":"Comece criando sua primeira mesa"}),F&&!p&&"all"===j&&(0,r.jsxs)("button",{onClick:()=>x(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-medium transition-all shadow-lg hover:shadow-xl",children:[(0,r.jsx)(k.Z,{size:18,className:"mr-2"}),"Criar Primeira Mesa"]})]}),(0,r.jsx)(w,{isOpen:u,onClose:()=>{x(!1),g(null)},onSave:R,table:h||void 0,areas:M,locations:D})]})}},97024:function(e,a,s){"use strict";s.d(a,{t:function(){return o}});var r=s(94660),t=s(74810),l=s(58222);let i=(e,a)=>{try{localStorage.setItem(e,JSON.stringify(a));let s=JSON.stringify(a);document.cookie="".concat(e,"=").concat(encodeURIComponent(s),"; path=/; max-age=").concat(604800,"; SameSite=Lax")}catch(e){console.error("Erro ao salvar no storage:",e)}},n=e=>{try{let a=localStorage.getItem(e);return a?JSON.parse(a):null}catch(e){return console.error("Erro ao ler do storage:",e),null}},o=(0,r.Ue)()((0,t.tJ)((e,a)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(a,s,r)=>{try{e({isLoading:!0,error:null});let{accessToken:t,refreshToken:n,user:o}=(await l.hi.post("/auth/login",{email:a,password:s,companyId:r})).data;console.log("\uD83D\uDD10 Dados de login recebidos:",{accessToken:!!t,refreshToken:!!n,user:o}),l.hi.defaults.headers.common.Authorization="Bearer ".concat(t),e({user:o,accessToken:t,refreshToken:n,isAuthenticated:!0,isLoading:!1,error:null}),console.log("\uD83D\uDD10 Estado atualizado com sucesso"),i("auth-storage",{user:o,accessToken:t,refreshToken:n,isAuthenticated:!0}),await new Promise(e=>setTimeout(e,0))}catch(s){var t,n;let a=(null===(n=s.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Erro ao fazer login";throw e({isLoading:!1,error:a,isAuthenticated:!1}),Error(a)}},register:async a=>{try{e({isLoading:!0,error:null});let{accessToken:s,refreshToken:r,user:t}=(await l.hi.post("/auth/register",a)).data;l.hi.defaults.headers.common.Authorization="Bearer ".concat(s),e({user:t,accessToken:s,refreshToken:r,isAuthenticated:!0,isLoading:!1,error:null}),await new Promise(e=>setTimeout(e,0))}catch(t){var s,r;let a=(null===(r=t.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Erro ao fazer cadastro";throw e({isLoading:!1,error:a,isAuthenticated:!1}),Error(a)}},logout:()=>{delete l.hi.defaults.headers.common.Authorization,e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null}),i("auth-storage",{user:null,accessToken:null,refreshToken:null,isAuthenticated:!1})},refreshAccessToken:async()=>{try{let{refreshToken:s}=a();if(!s)throw Error("Token de refresh n\xe3o encontrado");let{accessToken:r}=(await l.hi.post("/auth/refresh",{refreshToken:s})).data;e({accessToken:r,isAuthenticated:!0}),l.hi.defaults.headers.common.Authorization="Bearer ".concat(r)}catch(e){throw a().logout(),e}},clearError:()=>{e({error:null})},setLoading:a=>{e({isLoading:a})},checkAuthStatus:()=>{let s=a();console.log("\uD83D\uDD0D Verificando status de autentica\xe7\xe3o:",{isAuthenticated:s.isAuthenticated,hasUser:!!s.user,hasToken:!!s.accessToken});let r=n("auth-storage");console.log("\uD83D\uDCE6 Dados armazenados:",r),r&&r.accessToken&&!s.accessToken&&(console.log("\uD83D\uDD04 Restaurando dados do storage"),e({user:r.user,accessToken:r.accessToken,refreshToken:r.refreshToken,isAuthenticated:r.isAuthenticated}),r.accessToken&&(l.hi.defaults.headers.common.Authorization="Bearer ".concat(r.accessToken))),s.accessToken&&!s.isAuthenticated&&(console.log("\uD83D\uDD27 Corrigindo estado de autentica\xe7\xe3o"),e({isAuthenticated:!0}))}}),{name:"auth-storage",partialize:e=>({user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated})}))},96061:function(e,a,s){"use strict";s.d(a,{j:function(){return i}});var r=s(57042);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=r.W,i=(e,a)=>s=>{var r;if((null==a?void 0:a.variants)==null)return l(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:n}=a,o=Object.keys(i).map(e=>{let a=null==s?void 0:s[e],r=null==n?void 0:n[e];if(null===a)return null;let l=t(a)||t(r);return i[e][l]}),c=s&&Object.entries(s).reduce((e,a)=>{let[s,r]=a;return void 0===r||(e[s]=r),e},{});return l(e,o,null==a?void 0:null===(r=a.compoundVariants)||void 0===r?void 0:r.reduce((e,a)=>{let{class:s,className:r,...t}=a;return Object.entries(t).every(e=>{let[a,s]=e;return Array.isArray(s)?s.includes({...n,...c}[a]):({...n,...c})[a]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}},57042:function(e,a,s){"use strict";function r(){for(var e,a,s=0,r="",t=arguments.length;s<t;s++)(e=arguments[s])&&(a=function e(a){var s,r,t="";if("string"==typeof a||"number"==typeof a)t+=a;else if("object"==typeof a){if(Array.isArray(a)){var l=a.length;for(s=0;s<l;s++)a[s]&&(r=e(a[s]))&&(t&&(t+=" "),t+=r)}else for(r in a)a[r]&&(t&&(t+=" "),t+=r)}return t}(e))&&(r&&(r+=" "),r+=a);return r}s.d(a,{W:function(){return r}}),a.Z=r}},function(e){e.O(0,[737,865,727,239,222,971,938,744],function(){return e(e.s=41337)}),_N_E=e.O()}]);